<!DOCTYPE html>

<html>
    <head>
        <title>Cat Tasks</title>
        <meta charset="utf-8">
        <link rel="icon" type="image/png" href="https://icons.iconarchive.com/icons/iconsmind/outline/512/Cat-icon.png">
		<link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Baloo+2:400,800&display=swap" rel="stylesheet">
    <script src="taskeditor.js"></script>
    </head>

    <body>

      <!--TASK COLUMN-->
      <div class="taskcol">
        <b>spacecats</b>
        <h1>tasks</h1>
        <hr>
        <script src="taskeditor.js"></script>
      
        <div class="container" id="add">
          <button type="addtask" class="btn" onclick="openPopup()">+ add task</button>
          <div class="popup" id="popup">
            <div id="newtask"><input type="text" placeholder="Task to be done.."></div>
            <div id="taskdesc"><input type="text" placeholder="Task description.."></div>
            <button type="button" id="push" onclick="addTask()">+</button>
          </div>
        </div>

        <div id="tasks"></div>

        <script>
          let popup = document.getElementById("popup");
            function openPopup(){
              popup.classList.add("open-popup");
            }

            var messages = ["You are pawsome!", "You did purrfect", "With the right catitude, anything is pawsible!", "PAWMODORO!"];
            function doneMsg(){
              var randomIndex = Math.round(Math.random()*3);
              document.getElementById('speechbubble').innerHTML = "<p>" + messages[randomIndex] + "</p>";
              speechbubble.classList.add("open-speechbubble");
              setTimeout(()=>{speechbubble.classList.remove("open-speechbubble");}, 8000)
            }

        function addTask(){
          if(document.querySelector('#newtask input').value.length == 0){
              alert("Please Enter a Task")
          }
      
          else{
              document.querySelector('#tasks').innerHTML += `
              <div class="card">
        <div id="app"></div>
        <div class="card" id="user">
            <div class="container">
              <h4>${document.querySelector('#newtask input').value}</h4>
              <p>${document.querySelector('#taskdesc input').value}</p>
            </div>
            <div class="del">
            <button class="delete">
              ✖
            </button>
            </div>
          </div>
              `;
      
              var current_tasks = document.querySelectorAll(".del");
              for(var i=0; i<current_tasks.length; i++){
                  current_tasks[i].onclick = function(){
                      this.parentNode.remove();
                      doneMsg();
                  }
              }
          }
          popup.classList.remove("open-popup")
      }
        </script>
      </div>
      
      <!--CAT COLUMN-->
      <div class="cat">
        <img src="img/cat.png">
        
      </div>

      <div class="speechbubble" id="speechbubble">
        <p></p>
      </div>

      <div class="shootingStar">
        <img src="img/ezgif.com-gif-maker (1).gif">\
        
      </div>

      <!--CLOCK COLUMN-->
      <div class="clock">
        <div id="app"></div> 

        <button class="time" id="startTime" onclick="toggleStart()">
            ▶
        </button>
    
        <button class="time" id="addTime" onclick="addMinute()">
            ADD TIME
        </button>
    
        <button class="time" id="minusTime" onclick="minusMinute()">
            LOOSE TIME
        </button>
    
        <button class="time" id="resetTime" onclick="resetTimer()">
            <span class="bolded">↺</span>
        </button>

        <button class="time" id="breakTime" onclick="breakTime()">
            BREAK TIME!
        </button>

        </div>
        <script type="text/javascript" src="timer.js"></script>
      </div>

    </body>
    <script type="text/javascript" src="timer.js"></script>
</html>