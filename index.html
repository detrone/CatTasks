<!DOCTYPE html>
<html>
    <head>
        <title>Cat Tasks</title>
        <meta charset="utf-8">
		<link rel="stylesheet" href="style.css">
    <script src="taskeditor.js"></script>
    </head>

    <body>
      <script src="taskeditor.js"></script>
      
          <div class="container">
            <button type="addtask" class="btn" onclick="openPopup()">Add task!</button>
            <div class="popup" id="popup">
              <div id="newtask"><input type="text" placeholder="Task to be done.."></div>
              <div id="taskdesc"><input type="text" placeholder="Task description.."></div>
              <button type="button" id="push" onclick="addTask()">Add</button>
            </div>
          </div>

        <div id="tasks"></div>

        <script>
          let popup = document.getElementById("popup");
            function openPopup(){
              popup.classList.add("open-popup");
            }

        function addTask(){
          if(document.querySelector('#newtask input').value.length == 0){
              alert("Please Enter a Task")
          }
      
          else{
              document.querySelector('#tasks').innerHTML += `
              <div class="card">
            <div class="container">
              <h4><b>${document.querySelector('#newtask input').value}</b></h4>
              <p>${document.querySelector('#taskdesc input').value}</p>
            </div>
            <button class="delete">
                          <i class="far fa-trash-alt"></i>
            </button>
          </div>
              `;
      
              var current_tasks = document.querySelectorAll(".delete");
              for(var i=0; i<current_tasks.length; i++){
                  current_tasks[i].onclick = function(){
                      this.parentNode.remove();
                  }
              }
          }
          popup.classList.remove("open-popup")
      }
      </script>


    </body>
</html>